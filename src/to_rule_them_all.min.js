!function(t,e,s,o){var n=t(e),f=null,i=[],r=[];n.resize(function(){for(var t,e,s,o,n=0;n<r.length;n++)t=r[n],e=r[n]._following.position(),s=r[n]._following.width(),o=r[n]._following.height(),"vertical"==t.type?"%"===t.offsetXType?t._instance.css("left",e.left+l.calcPercentOf(t.offsetX,s)):t._instance.css("left",e.left+t.offsetX):"%"===t.offsetYType?t._instance.css("top",e.top+l.calcPercentOf(t.offsetY,o)):t._instance.css("top",e.top+t.offsetY)});var c=function(e){t("#"+e.id).remove()},l=function(){var t={};return t.getType=function(t){return"number"==typeof t?"px":"string"!=typeof t?null:"%"===t.substr(t.length-1,1)?"%":"px"===t.substr(t.length-2,2)?"px":void 0},t.calcPercentOf=function(t,e){return"%"!==t.substr(t.length-1,1)?null:+t.substr(0,t.length-1)/100*e},t}();e.utils=l,t.fn.unrule=function(t){for(var e,s=0;s<i.length;s++)if(i[s].id==t){e=i.splice(s,1)[0],c(e);break}for(var s=0;s<r.length;s++)if(r[s].id==t){e=r.splice(s,1)[0],c(e);break}},t.fn.rule=function(s){f||(f=t("<div />"),f.addClass("rulers"),f.css("position","fixed"),f.css("width","100%"),f.css("height","100%"),f.css("z-index","1000"),t("body").prepend(f));var o=t('<div class="ruler" />'),n={hash:Math.round(99999999*Math.random()),id:Math.round(99999999*Math.random()),color:"cyan",type:"vertical",offsetX:0,offsetXType:"px",offsetY:0,offsetYType:"px",alpha:1,follow:!0,_instance:o,_following:t(this)};return n=t.extend(n,s),n.offsetXType=l.getType(n.offsetX),n.offsetYType=l.getType(n.offsetY),0!==n.offsetY&&(n.type="horizontal"),o.attr("id",n.id),o.css("background-color",n.color),o.css("opacity",n.alpha),o.css("position","absolute"),"horizontal"==n.type?(o.css("height","1px"),o.css("width","100%"),o.css("top",n.offsetY),o.css("left","0")):(o.css("width","1px"),o.css("height","100%"),o.css("top","0"),o.css("left",n.offsetX)),n.follow&&r.push(n),i.push(n),f.prepend(o),t(e).trigger("resize"),n}}(jQuery,window,document);