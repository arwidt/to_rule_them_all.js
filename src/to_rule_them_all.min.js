!function(s,e,t,o){var i=s(e),r=null,n=[],c=[];i.resize(function(){for(var s,e,t=0;t<c.length;t++)s=c[t],e=c[t]._follower.position(),"vertical"==s.type?s._instance.css("left",e.left+s.offsetX):s._instance.css("top",e.top+s.offsetY)});var f=function(e){s("#"+e.id).remove()};s.fn.unrule=function(s){for(var e,t=0;t<n.length;t++)if(n[t].id==s){e=n.splice(t,1)[0],f(e);break}for(var t=0;t<c.length;t++)if(c[t].id==s){e=c.splice(t,1)[0],f(e);break}},s.fn.rule=function(t){r||(r=s("<div />"),r.addClass("rulers"),r.css("position","fixed"),r.css("width","100%"),r.css("height","100%"),r.css("z-index","1000"),s("body").prepend(r));var o=s('<div class="ruler" />'),i={hash:Math.round(99999999*Math.random()),id:Math.round(99999999*Math.random()),color:"cyan",type:"vertical",offsetX:0,offsetXType:"px",offsetY:0,offsetYType:"px",alpha:1,follow:!0,_instance:o,_follower:s(this)};return i=s.extend(i,t),o.attr("id",i.id),o.css("background-color",i.color),o.css("opacity",i.alpha),o.css("position","absolute"),"horizontal"==i.type?(o.css("height","1px"),o.css("width","100%"),o.css("top",i.offsetY),o.css("left","0")):(o.css("width","1px"),o.css("height","100%"),o.css("top","0"),o.css("left",i.offsetX)),i.follow&&c.push(i),n.push(i),r.prepend(o),s(e).trigger("resize"),i}}(jQuery,window,document);