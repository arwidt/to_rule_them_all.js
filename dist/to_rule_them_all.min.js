!function(s){var o=null,t=[],e=[];s(window).resize(function(){for(var s,o,t=0;t<e.length;t++)s=e[t],o=e[t]._follower.position(),"vertical"==s.type?s._instance.css("left",o.left+s.offsetX):s._instance.css("top",o.top+s.offsetY)}),s.fn.rule=function(i){console.log(i),o||(o=s("<div />"),o.addClass("rulers"),o.css("position","fixed"),o.css("width","100%"),o.css("height","100%"),o.css("z-index","1000"),s("body").prepend(o));var c=s('<div class="ruler" />'),l={id:Math.round(99999999*Math.random()),color:"cyan",type:"vertical",offsetX:0,offsetXType:"px",offsetY:0,offsetYType:"px",alpha:1,follow:!0,_instance:c,_follower:s(this)};return l=s.extend(l,i),c.attr("id",l.id),c.css("background-color",l.color),c.css("opacity",l.alpha),c.css("position","absolute"),"horizontal"==l.type?(c.css("height","1px"),c.css("width","100%"),c.css("top",l.offsetY),c.css("left","0")):(c.css("width","1px"),c.css("height","100%"),c.css("top","0"),c.css("left",l.offsetX)),l.follow&&e.push(l),t.push(l),o.prepend(c),s(window).trigger("resize"),this}}(jQuery);